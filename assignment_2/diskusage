#!/usr/bin/bash

# To check if a file is attached
if [[ $# -eq 0 ]]; then
    echo "error: no file directory indicated"
    exit 1
else
    if [[ $1 == "-n" ]]; then #checking if the argument is -n

        if [[ $# == 3 ]]; then #checking if the -n option comes with a number
            if [[ -e $3 ]]; then
                du -h $3 | sort -hr | head -n $2
            else
                echo "Directory does not exists"
                exit 1
            fi
        else
            if [[ -e $2 ]]; then
                du -h $2 | sort -hr | head -n 8
            else
                echo "Directory file does not exist"
                exit 1
            fi
        fi

    elif [[ $1 == "-d" ]]; then #checking if the option is d
        if [[ -e $2 ]]; then
            du -ah $2
        else
            echo "Directory does not exist"
            exit 1
        fi
    else
        echo "error: improper usage"
        exit 1
    fi
fi